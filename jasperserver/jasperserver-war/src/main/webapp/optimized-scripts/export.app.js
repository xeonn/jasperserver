JRS.Export.App=function(e,t,o,r){return{initialize:function(n){o.bindAll(this),this.formModel=new e.FormModel;var i=o.extend({model:this.formModel,namespace:e},n),s=this.ui=new r.Layout(i),a=this.formModel.get("state");this.stateController=new e.StateController({model:a,timeout:e.configs.TIMEOUT,delay:e.configs.DELAY}),n&&!n.containerID&&a.on("change:phase",function(e,t){t===r.State.READY&&s.dialog&&s.dialog.hide()}),t(document).ready(function(){s.render(n)})},showDialogFor:function(e){this.formModel.set({uris:this.parseRepoData(e),includeReportJobs:this.hasReports(e)}),this.ui.showDialog()},parseRepoData:function(e){return o.isArray(e)?o.pluck(e,"URIString"):[e.URIString]},hasReports:function(e){return o.isArray(e)||(e=[e]),o.reduce(e,function(e,t){return e||!t.resourceType||t.resourceType.indexOf("ReportUnit")+1||t.resourceType.indexOf("ReportOptions")+1},!1)}}}(JRS.Export,jQuery,_,jaspersoft.components);