if(!jaspersoft)var jaspersoft={};jaspersoft.attributes||(jaspersoft.attributes={}),function(e,t,n,r,i){r.settings={MAX_LENGTH_OF_NAME:255,MAX_LENGTH_OF_VALUE:255},r.Attribute=n.Model.extend({sync:function(e,t,r){return r||(r={}),r.async=!1,n.sync(e,t,r)},url:function(){var e=encodeURIComponent(this.id).replace("'","%27");return e=e.replace("'","%27"),this.collection.url(this.isNew()?"":e)},validate:function(e){if(""===e.name||/^\s*$/.test(e.name))return"attribute.name.empty";if(""===e.value||/^\s*$/.test(e.value))return"attribute.value.empty";if(e.name&&e.name.length>r.settings.MAX_LENGTH_OF_NAME)return"attribute.name.too.long";if(e.value&&e.value.length>r.settings.MAX_LENGTH_OF_VALUE)return"attribute.value.too.long";if(e.name&&/[\\\/]/.test(e.name))return"attribute.name.invalid";if(this.collection&&e.name)for(var t=0,n=this.collection.models.length;n>t;t++)if(this.cid!==this.collection.models[t].cid&&this.collection.models[t].get("name")===e.name)return"attribute.name.already.exist"}},{instance:function(){var e=new this;return e}}),r.Attributes=n.Collection.extend({model:r.Attribute,parse:function(e){return e&&e.attribute?e.attribute:[]},url:function(e){var n=t.extend({},this.context,{modelId:e});return n.tenantId&&(n.tenantId=encodeURIComponent(n.tenantId).replace("'","%27")),n.userName&&(n.userName=encodeURIComponent(n.userName).replace("'","%27")),i.renderUrl(this.urlTemplate,n,!0)},isValid:function(){for(var e=0,t=this.models.length;t>e;e++)if(!this.models[e].isValid())return!1;return!0}},{instance:function(e){var t=new this;return t.urlTemplate=e.urlTemplate,t}})}(jQuery,_,Backbone,jaspersoft.attributes,JRS.Controls.TemplateEngine);