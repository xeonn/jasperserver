function invokeRoleAction(e,o){var n=orgModule.roleActionFactory[e](o);n.invokeAction()}function invokeRoleManagerAction(e,o){var n=orgModule.roleManager.actionFactory[e](o);n.invokeAction()}function canAddRole(){return orgModule.roleManager.tree?null!=orgModule.roleManager.tree.getOrganization():!0}function canEditRole(e){var e=e?e:orgModule.properties.getValue();return e.tenantId||orgModule.manager.isUserSuperuser()}function canDeleteRole(e){var e=e?e:orgModule.properties.getValue();return e.tenantId||orgModule.manager.isUserSuperuser()&&!_.contains(orgModule.systemRoles,e.roleName)}function canDeleteAll(){var e=orgModule.entityList.getSelectedEntities();return e.length>0&&!e.detect(function(e){return!canDeleteRole(e)})}orgModule.roleManager={Event:{},Action:{},initialize:function(){layoutModule.resizeOnClient("folders","roles","properties"),webHelpModule.setCurrentContext("admin");var e=localContext.roleMngInitOptions;orgModule.manager.initialize(e),orgModule.manager.entityJsonToObject=function(e){return new orgModule.Role(e)},orgModule.manager.relatedEntityJsonToObject=function(e){return new orgModule.User(e)},this.roleList.initialize({toolbarModel:this.actionModel,text:orgModule.manager.state.text}),orgModule.addDialog.show=function(e){this.addDialog.show(e)}.bind(this),orgModule.addDialog.hide=function(e){this.addDialog.hide(e)}.bind(this),this.properties.initialize(),this.addDialog.initialize(),orgModule.observe("server:unavailable",function(){var e=orgModule.manager.tree,o=e?e.getOrganization().id:null;new orgModule.Role({roleName:"",tenantId:o}).navigateToManager()}.bindAsEventListener(this)),isProVersion()||orgModule.manager.reloadEntities()},actionModel:{ADD:{buttonId:"addNewRoleBtn",action:invokeClientAction,actionArgs:"create",test:canAddRole},DELETE:{buttonId:"deleteAllRolesBtn",action:invokeClientAction,actionArgs:"deleteAll",test:canDeleteAll}}},"undefined"==typeof require&&document.observe("dom:loaded",orgModule.roleManager.initialize.bind(orgModule.roleManager));