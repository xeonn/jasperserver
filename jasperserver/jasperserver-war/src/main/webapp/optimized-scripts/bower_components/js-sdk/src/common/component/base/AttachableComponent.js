define(["require","jquery","underscore","common/util/classUtil"],function(t){"use strict";var e=t("jquery"),i=t("underscore"),h=t("common/util/classUtil");return h.extend({constructor:function(t,i){if(this.padding=i?i:{top:5,left:5},!t||0===e(t).length)throw new Error("AttachableComponent should be attached to an element");this.$attachTo=e(t)},show:function(){var t=this.$attachTo.offset(),h=this.$attachTo[0].tagName&&"input"===this.$attachTo[0].tagName.toLowerCase()?this.$attachTo.outerHeight():this.$attachTo.height(),o=this.$attachTo.width(),s=e("body"),n=s.height(),a=s.width(),r=this.$el.innerWidth(),c=this.$el.innerHeight(),l=t.top+h+this.padding.top,d=t.left,u=t.top+h+this.padding.top,f=t.left;c+l>n&&(u=t.top-c-this.padding.top),r+d>a&&(f=t.left-r+o),0>f&&(f=t.left+o/2-r/2),0>f&&(f=0),i.extend(this,{top:u,left:f}),this.$el.css({top:this.top,left:this.left}),this.$el.show(),this.trigger("show",this)},hide:function(){return this.$el.hide(),this.trigger("hide",this),this}})});