define(["require","jquery","underscore","common/util/classUtil"],function(t){"use strict";var e=t("jquery"),i=t("underscore"),h=t("common/util/classUtil");return h.extend({constructor:function(t,i){if(this.padding=i?i:{top:5,left:5},!t||0===e(t).length)throw new Error("AttachableComponent should be attached to an element");this.$attachTo=e(t)},show:function(){var t=this.$attachTo.offset(),h=this.$attachTo.height(),o=this.$attachTo.width(),s=e("body"),n=s.height(),r=s.width(),d=this.$el.innerWidth(),l=this.$el.innerHeight(),a=t.top+h+this.padding.top,c=t.left,u=t.top+h+this.padding.top,f=t.left;l+a>n&&(u=t.top-l-this.padding.top),d+c>r&&(f=t.left-d+o),i.extend(this,{top:u,left:f}),this.$el.css({top:this.top,left:this.left}),this.$el.show()},hide:function(){return this.$el.hide(),this.trigger("hide",this),this}})});