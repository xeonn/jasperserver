define(["require","underscore","common/component/list/model/ListWithSelectionModel","common/component/list/model/listWithNavigationModelTrait"],function(e){var t=e("underscore"),i=e("common/component/list/model/ListWithSelectionModel"),n=e("common/component/list/model/listWithNavigationModelTrait"),o=i.extend(n);return o=o.extend({setActive:function(e){n.setActive.call(this,t.extend(e,{silent:!0}));var i={};"number"==typeof e.index&&(i[e.index]=e.item.value),this.select(i)},_convertInitialArrayToSelection:function(e,t,i){for(var o=0;o<e.length;o++)t[e[o].value]&&(this._addToSelection(e[o].value,o),this.getActive()||n.setActive.call(this,{index:o,item:e[o],silent:!0}));this._triggerSelectionChange(i)},_convertSelectionObject:function(e){for(var t in e)if(e.hasOwnProperty(t)&&void 0!==e[t]){var i=e[t];return{index:parseInt(t,10),value:i}}},_select:i.prototype.select,select:function(e,i){var o,l=!1;if(!e||"string"==typeof e||t.isArray(e))n.setActive.call(this,{silent:!0});else if(o=this._convertSelectionObject(e)){var c=this.getActive();c&&o.value===c.value&&o.index===c.index||(l=!0)}else n.setActive.call(this,{silent:!0});return l?this.activate(o.index):this._select(e,i),this}})});