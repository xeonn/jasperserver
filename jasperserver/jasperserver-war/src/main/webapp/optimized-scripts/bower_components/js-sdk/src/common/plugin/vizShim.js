define(["require","common/transport/request","common/config/requestSettings","underscore"],function(e){"use strict";var r=e("common/transport/request"),t=e("common/config/requestSettings"),n=e("underscore"),i="__visualize__.";return{load:function(e,o,s,u){if(u.isBuild)return void s();var c=n.extend({},t,{type:"GET",dataType:"script",cache:!0,url:o.toUrl(e+".js")});r(c).then(function(e){if(window.__visualize__){var r=e.indexOf("define(");if(r>-1)return void s.fromText(n.str.splice(e,r,0,i))}s.fromText(e)},s.error)}}});