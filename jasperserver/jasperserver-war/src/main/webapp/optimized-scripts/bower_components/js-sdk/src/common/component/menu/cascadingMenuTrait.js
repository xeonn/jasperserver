define(["require","./Menu","./HoverMenu","underscore"],function(e){var t=e("./Menu"),n=e("./HoverMenu"),i=e("underscore"),o={_onInitialize:function(){this.on("mouseover",i.bind(this._showSubMenu,this))},_showSubMenu:function(e){if(e.model.has("children")){var t=this._getSubMenu(e.cid,e.model.get("children"),e);t&&t.show()}},_getSubMenu:i.memoize(function(e,t,n){return new u(t,n)})},u=n.extend(i.extend({constructor:function(e,t){this.parentOption=t,n.call(this,e,t.$el)},show:function(){var e=this.$attachTo.offset(),n=this.$attachTo.width();return this.$el.css({top:e.top,left:e.left+n}),t.prototype.show.apply(this,arguments)},_onMenuMouseOut:function(e,t,n){var i=e.model.get("children");if(i){var o=this._getSubMenu(e.cid),u=o.$el.offset(),r=n.pageX-u.left,s=n.pageY-u.top;this._menuHovered=r>=0&&r<=o.$el.width()+3&&s>=0&&s<=o.$el.height()+3}else this._menuHovered=!1;this._tryHide()}},o));return o});