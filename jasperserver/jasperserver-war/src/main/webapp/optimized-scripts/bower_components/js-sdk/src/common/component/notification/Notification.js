define(["require","underscore","jquery","backbone","bundle!CommonBundle","text!./template/notificationTemplate.htm","css!notifications.css"],function(e){var t=e("underscore"),i=e("jquery"),n=e("backbone"),s=e("bundle!CommonBundle"),a=e("text!./template/notificationTemplate.htm");e("css!notifications.css");var o={SUCCESS:"success",WARNING:"warning"},r=2e3,l={};return l[o.WARNING]=o.WARNING,n.View.extend({template:t.template(a),events:{"click .close a":"hide"},el:function(){return this.template({message:this.message,i18n:s})},initialize:function(){this.render()},render:function(){return i("body").append(this.$el),this.$el.hide(),this.$messageContainer=this.$(".notificationMessage > span:first-child"),this},show:function(e){return e=t.extend({type:o.WARNING,delay:r},e),this.$messageContainer.text(e.message),this.$messageContainer.removeClass().attr({"class":l[e.type]}),this.$el.slideDown(),t.delay(t.bind(this.hide,this),e.delay),this},hide:function(e){return e&&e.preventDefault(),this.$el.slideUp(),this},remove:function(){n.View.prototype.remove.call(this)}})});