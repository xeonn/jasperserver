define(["require","underscore","common/component/multiSelect/view/AvailableItemsListWithTrueAll","common/component/multiSelect/view/MultiSelect"],function(e){var t=(e("underscore"),e("common/component/multiSelect/view/AvailableItemsListWithTrueAll")),l=e("common/component/multiSelect/view/MultiSelect"),i=l.extend({initialize:function(e){e.trueAll&&delete e.value,l.prototype.initialize.call(this,e)},_createAvailableItemsList:function(e){return e.availableItemsList||new t({getData:e.getData,bufferSize:e.bufferSize,loadFactor:e.loadFactor,chunksTemplate:e.chunksTemplate,scrollTimeout:e.scrollTimeout,trueAll:e.trueAll})},selectionChangeInternal:function(e){this.selectedItemsList.setDisabled(this.getTrueAll()),l.prototype.selectionChangeInternal.call(this,e)},triggerSelectionChange:function(){this.trigger("selection:change",this.getValue(),{isTrueAll:this.getTrueAll()})},getValue:function(){return this.getTrueAll()?[]:this.availableItemsList.getValue()},setTrueAll:function(e,t){t=t||{},t.silent&&(this.silent=!0),delete t.silent,this.availableItemsList.setTrueAll(e,t)},getTrueAll:function(){return this.availableItemsList.getTrueAll()}});return window.MultiSelectWithTrueAll=i,i});