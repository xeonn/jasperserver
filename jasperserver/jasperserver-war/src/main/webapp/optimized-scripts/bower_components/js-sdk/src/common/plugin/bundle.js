define(["require","underscore","requestSettings","request","common/util/parse/javaProperties"],function(e){"use strict";var r=e("underscore"),t=e("requestSettings"),s=e("request"),n=e("common/util/parse/javaProperties");return{load:function(e,i,u,a){if(a.isBuild)return void u();var o=a.config.i18n||{},l=a.baseUrl?a.baseUrl+"../bundles":"/bundles",c=e.split("/")[0],p=o.locale?"_"+o.locale:"",d=o.paths&&o.paths[c]||"";e=e.replace(c,d),"/"!==e[0]&&(e="/"+e);var f=r.extend({},t,{type:"GET",url:l+e+p+".properties"});s(f).then(function(e){u(n(e))})}}});