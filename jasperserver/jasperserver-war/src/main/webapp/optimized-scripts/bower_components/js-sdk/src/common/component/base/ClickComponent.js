define(["require","common/component/base/AttachableComponent","jquery","underscore"],function(o){var t=o("common/component/base/AttachableComponent"),n=o("jquery"),e=o("underscore");return t.extend({constructor:function(){t.apply(this,arguments),e.bindAll(this,"_onElementClick","_onDocumentMousedown"),this.$attachTo.on("click",this._onElementClick),n("body").on("mousedown",this._onDocumentMousedown)},_onElementClick:function(){this.show()},_onDocumentMousedown:function(o){n.contains(this.$el[0],o.target)||this.$el.is(o.target)||n.contains(this.$attachTo[0],o.target)||this.$attachTo.is(o.target)||this.hide()},remove:function(){this.$attachTo.off("click",this._onElementClick),n("body").off("mousedown",this._onDocumentMousedown)}})});