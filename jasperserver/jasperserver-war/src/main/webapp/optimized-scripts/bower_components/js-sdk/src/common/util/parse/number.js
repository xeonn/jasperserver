define(["require","underscore","settings!decimalFormatSymbols"],function(e){function r(e){return"."===e?e="\\.":" "===e&&(e="\\s"),e}function n(e,r,n,t){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var i=isFinite(+e)?+e:0,o=isFinite(+r)?Math.abs(r):0,u="undefined"==typeof t?",":t,s="undefined"==typeof n?".":n,a="",c=function(e,r){var n=Math.pow(10,r);return""+(Math.round(e*n)/n).toFixed(r)};return a=(o?c(i,o):""+Math.round(i)).split("."),a[0].length>3&&(a[0]=a[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,u)),(a[1]||"").length<o&&(a[1]=a[1]||"",a[1]+=new Array(o-a[1].length+1).join("0")),a.join(s)}function t(e){return i(e)||o(e)}function i(e){return g.isNumber(e)&&!isNaN(e)&&e!==Number.POSITIVE_INFINITY&&e!==Number.NEGATIVE_INFINITY&&(e===+e&&e===(0|e)||e%1===0)}function o(e){return g.isString(e)&&f.test(e)}function u(e){return t(e)&&a(e)>=b&&a(e)<=S}function s(e){return g.isNumber(e)&&!isNaN(e)&&e!==Number.POSITIVE_INFINITY&&e!==Number.NEGATIVE_INFINITY||g.isString(e)&&I.test(e)}function a(e){if(g.isNumber(e))return e;if(g.isString(e)&&I.test(e)){e=e.replace(new RegExp(p,"g"),"").replace(new RegExp(m,"g"),".");var r=1*e;return r>h||w>r?(window.console&&window.console.warn(e+" is out of the ["+w+", "+h+"] bounds. Parsing results may be corrupted. Use string representation instead. For more details see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number."),!1):r}return void 0}function c(e){var r=e.toString().split(".")[1];try{return n(e,r?r.length:0,N,d)}catch(t){return e.toString()}}var g=e("underscore"),l=e("settings!decimalFormatSymbols"),N=l?l.decimalSeparator||".":".",d=l?l.groupingSeparator||",":",",m=r(N),p=r(d),I=new RegExp("^-?([1-9]{1}[0-9]{0,2}("+p+"[0-9]{3})*("+m+"[0-9]+)?|[1-9]{1}[0-9]{0,}("+m+"[0-9]+)?|0("+m+"[0-9]+)?)$"),f=new RegExp("^-?([1-9]{1}[0-9]{0,2}("+p+"[0-9]{3})*|[1-9]{1}[0-9]{0,}|0)$"),b=-2147483648,S=2147483647,h=9007199254740992,w=-9007199254740992;return{isInt:t,isNumberInt:i,isStringInt:o,isInt32:u,isDecimal:s,parseNumber:a,formatNumber:c}});