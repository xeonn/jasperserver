define(["require","jquery"],function(e,n){var r=function(e){this.loader=e};return r.prototype={registerComponents:function(r,t){var o=this,i=[],p=new n.Deferred,d={},u=t.components;return n.each(r,function(r,p){if(p.parentId)d[p.parentId]?d[p.parentId].then(function(e){e.registerPart(p)}):console.error("Could not find promise for component with id: "+p.parentId);else if(p.module){var a=new n.Deferred;d[p.id]=a,i.push(a),e([p.module],function(e){var n=new e(p);n.parent=t,n.loader=o.loader,u[p.type]=u[p.type]||[],u[p.type].push(n),n.rdy?n.rdy.then(function(){a.resolve(n)}):a.resolve(n)})}else{var f={config:p};u[p.type]=u[p.type]||[],u[p.type].push(f)}}),n.when.apply(n,i).then(function(){p.resolve()}),p}},r});