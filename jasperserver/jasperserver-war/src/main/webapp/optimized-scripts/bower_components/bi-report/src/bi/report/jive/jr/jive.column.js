define(["jquery"],function(n){var t={sort:{},move:{},format:{},filter:{},hide:{},unhide:{},resize:{}},e=function(n){this.config=n,this.parent=null,this.loader=null,this.events={ACTION_PERFORMED:"action",BEFORE_ACTION_PERFORMED:"beforeAction"},this.api=t};return e.prototype={sort:function(n){var t=this,e={action:this.config.headerToolbar["sort"+n.order+"Btn"].sortData};return e.action.sortData.tableUuid=t.config.parentId,t._notify({name:t.events.BEFORE_ACTION_PERFORMED}),this.loader.runAction(e).then(function(n){return t._notify({name:t.events.ACTION_PERFORMED,type:"sort",data:n}),t})},move:function(n){var t=this,e={action:{actionName:"move",moveColumnData:{tableUuid:t.config.parentId,columnToMoveIndex:t.config.columnIndex,columnToMoveNewIndex:n.index}}};return t._notify({name:t.events.BEFORE_ACTION_PERFORMED}),this.loader.runAction(e).then(function(n){return t._notify({name:t.events.ACTION_PERFORMED,type:"move",data:n}),t})},format:function(n){var t=this,e={action:n};return t._notify({name:t.events.BEFORE_ACTION_PERFORMED}),this.loader.runAction(e).then(function(n){return t._notify({name:t.events.ACTION_PERFORMED,type:"format",data:n}),t})},filter:function(t){var e=this,i=n.extend({},e.config.filtering.filterData,t),o={action:{actionName:"filter",filterData:i}};return e._notify({name:e.events.BEFORE_ACTION_PERFORMED}),this.loader.runAction(o).then(function(n){return e._notify({name:e.events.ACTION_PERFORMED,type:"filter",data:n}),e})},hide:function(){var n=this,t={action:{actionName:"hideUnhideColumns",columnData:{tableUuid:n.config.parentId,hide:!0,columnIndexes:[this.config.columnIndex]}}};return n._notify({name:n.events.BEFORE_ACTION_PERFORMED}),this.loader.runAction(t).then(function(t){return n._notify({name:n.events.ACTION_PERFORMED,type:"hide",data:t}),n})},unhide:function(n){var t=this,e={action:{actionName:"hideUnhideColumns",columnData:{tableUuid:t.config.parentId,hide:!1,columnIndexes:n?n:[this.config.columnIndex]}}};return t._notify({name:t.events.BEFORE_ACTION_PERFORMED}),this.loader.runAction(e).then(function(n){return t._notify({name:t.events.ACTION_PERFORMED,type:"unhide",data:n}),t})},resize:function(n){var t=this,e={action:{actionName:"resize",resizeColumnData:{tableUuid:t.config.parentId,columnIndex:this.config.columnIndex,direction:"right",width:n.width}}};return t._notify({name:t.events.BEFORE_ACTION_PERFORMED}),this.loader.runAction(e).then(function(n){return t._notify({name:t.events.ACTION_PERFORMED,type:"resize",data:n}),t})},_notify:function(n){this.parent._notify(n)}},e});