define(["require","./BaseComponentModel","../enum/jiveTypes","../enum/interactiveComponentTypes","underscore","../../enum/reportEvents","../../enum/reportCreators"],function(e){var t=e("./BaseComponentModel"),n=e("../enum/jiveTypes"),i=e("../enum/interactiveComponentTypes"),r=e("underscore"),a=e("../../enum/reportEvents"),o=e("../../enum/reportCreators");return t.extend({defaults:function(){return{charttype:void 0,datetimeSupported:!1,hcinstancedata:void 0,id:void 0,interactive:!0,module:"jive.highcharts",type:n.CHART,uimodule:"jive.interactive.highchart"}},api:{changeType:{}},actions:{"change:charttype":function(){return{actionName:"changeChartType",changeChartTypeData:{chartComponentUuid:this.get("id"),chartType:this.get("charttype")}}}},initialize:function(){if(this.has("hcinstancedata")){var e=this.get("hcinstancedata"),t=this._detectCreator(e);o.AD_HOC_DESIGNER===t&&(delete e.width,delete e.height)}this.config=JSON.parse(JSON.stringify(this.toJSON()))},changeType:function(e){this.trigger(a.ACTION,{actionName:"changeChartType",changeChartTypeData:{chartComponentUuid:this.config.id,chartType:e.type},options:{showErrorDialog:!0}})},_detectCreator:function(e){var t,n=e.services,i=r.some(n,function(e){return-1!=e.service.indexOf("adhoc")});return i&&(t=o.AD_HOC_DESIGNER),t&&this.set("creator",t),t},toReportComponentObject:function(){return this.get("interactive")?{id:this.get("id"),componentType:i.CHART,chartType:this.get("charttype"),name:this.get("name")}:void 0},updateFromReportComponentObject:function(e){this.set({charttype:e.chartType})}})});