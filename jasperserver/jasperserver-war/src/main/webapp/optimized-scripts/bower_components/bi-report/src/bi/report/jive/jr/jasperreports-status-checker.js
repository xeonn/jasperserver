define(["jquery"],function(e){var t=function(e,t){this.loader=e,this.timeoutId=null,this.updateInterval=t};return t.prototype={checkPageModified:function(t,i){var a=this,d=e.Deferred();return a._timedCheckPageModified(!1,t,i,d,null),d.promise()},cancelCheckPageModified:function(){clearTimeout(this.timeoutId)},_timedCheckPageModified:function(e,t,i,a,d){var o=this;e?a.resolve(d):o.timeoutId=setTimeout(function(){o._getPageModifiedStatus(t,i,a)},o.updateInterval)},_getPageModifiedStatus:function(e,t,i){var a=this;return a.loader.getStatusForPage(e,t).then(function(d){var o;o=a.loader.config.stopOnFinishOnly?"finished"==d.result.status:d.result.pageModified||"finished"==d.result.status,!o&&a.loader.setPageUpdateStatus&&a.loader.setPageUpdateStatus(d),a._timedCheckPageModified(o,e,t,i,d.result)})}},t});