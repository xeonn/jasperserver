orgModule.serverActionFactory={browse:function(e){return this.createAction(orgModule.ActionMap.BROWSE,e)},search:function(e){return this.createAction(orgModule.ActionMap.SEARCH,e)},next:function(e){return this.createAction(orgModule.ActionMap.NEXT,e)},selectAndGetDetails:function(e){return this.createAction(orgModule.ActionMap.SELECT_AND_GET_DETAILS,e)},searchAvailable:function(e){return this.createAction(orgModule.ActionMap.SEARCH_AVAILABLE,e)},searchAssigned:function(e){return this.createAction(orgModule.ActionMap.SEARCH_ASSIGNED,e)},nextAvailable:function(e){return this.createAction(orgModule.ActionMap.NEXT_AVAILABLE,e)},nextAssigned:function(e){return this.createAction(orgModule.ActionMap.NEXT_ASSIGNED,e)},create:function(e){var t=e.entity,o={entity:Object.toJSON(t)};return this.createAction(orgModule.ActionMap.CREATE,o)},update:function(e){var t=e.entityName,o={entityName:t,entity:Object.toJSON(e.entity),assignedEntities:Object.toJSON(e.assigned),unassignedEntities:Object.toJSON(e.unassigned)};return this.createAction(orgModule.ActionMap.UPDATE,o,e.unencryptedEntity)},deleteAll:function(e){var t=e.entities,o={entities:Object.toJSON(t.collect(function(e){return e.getNameWithTenant()}))};return this.createAction(orgModule.ActionMap.DELETE_ALL,o)},"delete":function(e){var t=e.entity,o={entity:t.getNameWithTenant()};return this.createAction(orgModule.ActionMap.DELETE,o)},exist:function(e){var t=e.entity,o={entityName:t.getNameWithTenant()},n=new orgModule.ServerAction(orgModule.ActionMap.EXIST,o);return n.onSuccess=function(t){t.exist?e.onExist&&e.onExist(t.uniqueId):e.onNotExist&&e.onNotExist()},n.onError=function(t){orgModule.fire(orgModule.Event.SERVER_ERROR,{inputData:e,responseData:t})},n},createAction:function(e,t,o){var n,i=new orgModule.ServerAction(e,t);if(e==orgModule.ActionMap.BROWSE)n=orgModule.Event.RESULT_CHANGED;else if(e==orgModule.ActionMap.SEARCH)n=orgModule.Event.RESULT_CHANGED;else if(e==orgModule.ActionMap.NEXT)n=orgModule.Event.RESULT_NEXT;else if(e==orgModule.ActionMap.SELECT_AND_GET_DETAILS)n=orgModule.Event.ENTITY_DETAILS_LOADED;else if(e==orgModule.ActionMap.SEARCH_AVAILABLE)n=orgModule.Event.SEARCH_AVAILABLE_LOADED;else if(e==orgModule.ActionMap.SEARCH_ASSIGNED)n=orgModule.Event.SEARCH_ASSIGNED_LOADED;else if(e==orgModule.ActionMap.NEXT_AVAILABLE)n=orgModule.Event.NEXT_AVAILABLE_LOADED;else if(e==orgModule.ActionMap.NEXT_ASSIGNED)n=orgModule.Event.NEXT_ASSIGNED_LOADED;else if(e==orgModule.ActionMap.CREATE)n=orgModule.Event.ENTITY_CREATED;else if(e==orgModule.ActionMap.UPDATE)n=orgModule.Event.ENTITY_UPDATED;else if(e==orgModule.ActionMap.DELETE_ALL)n=orgModule.Event.ENTITIES_DELETED;else{if(e!=orgModule.ActionMap.DELETE)throw new Error("Unexpected action name '"+e+"'");n=orgModule.Event.ENTITY_DELETED}return i.onSuccess=function(e){orgModule.fire(n,{inputData:t,unencryptedEntity:o,responseData:e})},i.onError=function(e){orgModule.fire(orgModule.Event.SERVER_ERROR,{inputData:t,unencryptedEntity:o,responseData:e})},i}},orgModule.clientActionFactory={create:function(){var e;orgModule.manager.tree&&(e=orgModule.manager.tree.getOrganization());var t=orgModule.entityList.getSelectedEntities(),o=function(){return invokeClientAction("cancelIfEdit",{entity:t[0]})};return new orgModule.Action(function(){orgModule.entityList.deselectAll(),orgModule.addDialog.show(e)},o)},deleteAll:function(){var e=orgModule.entityList.getSelectedEntities(),t=function(){return invokeClientAction("cancelIfEdit",{entity:e[0]})};return new orgModule.Action(function(){confirm(orgModule.getMessage("deleteAllMessage",{count:e.length}))&&invokeServerAction(orgModule.ActionMap.DELETE_ALL,{entities:e})},t)},"delete":function(e){var t=e.entity;return new orgModule.Action(function(){confirm(orgModule.getMessage("deleteMessage",{entity:t.getDisplayName()}))&&invokeServerAction(orgModule.ActionMap.DELETE,{entity:t})})},cancelIfEdit:function(e){var t=e.entity;return new orgModule.Action(function(){return!orgModule.properties.isChanged()||confirm(orgModule.getMessage("cancelEdit",{entity:t.getDisplayName()}))?(orgModule.properties.isEditMode&&(orgModule.properties.cancel(),orgModule.properties.changeMode(!1)),!0):!1})}};