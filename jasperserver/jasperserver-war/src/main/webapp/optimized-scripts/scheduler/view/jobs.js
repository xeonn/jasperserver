define("scheduler/view/jobs",["require","utils.common","jquery","backbone","scheduler/view/job","scheduler/model/job","scheduler/collection/jobs","jrs.configs","scheduler/util/jobUtil"],function(e){e("utils.common");var t=e("jquery"),i=e("backbone"),n=e("scheduler/view/job"),s=(e("scheduler/model/job"),e("scheduler/collection/jobs")),o=(e("jrs.configs"),e("scheduler/util/jobUtil"));return i.View.extend({el:"#list.page",events:{"click .backButton":"back","click .scheduleJob":"create","click .runJob":"run","click .refreshList":"refresh"},initialize:function(e){e.app&&(this.app=e.app),this.title=this.$(".header .title .path"),this.container=t("#resultsList"),this.collection=new s,this.collection.on("add",this.add,this),this.collection.on("reset destroy",this.render,this)},show:function(e){e&&(this.uri=e),this.title.text("/"+this.uri),this.app.page(this),this.refresh()},render:function(){return this.container.empty(),this.collection.length?(t("#nothingToDisplay").addClass("hidden"),this.container.parent().removeClass("hidden"),this.collection.each(_.bind(this.add,this))):(this.container.parent().addClass("hidden"),void t("#nothingToDisplay").removeClass("hidden"))},refresh:function(){var e="/"+this.uri;this.parentReportURI&&(e=this.parentReportURI),this.collection.fetch(e)},create:function(){this.app._ourPanelButtonClick=!0,this.app._runNowClick=!1,this.app.router.navigate("create/"+this.uri,!0)},add:function(e){var t=new n({app:this.app,model:e});this.container.append(t.render().$el)},back:function(){o.back(o.SCHEDULER_BACK_COOKIE_NAME)},run:function(){this.app._ourPanelButtonClick=!0,this.app._runNowClick=!0,this.app.router.navigate("create/"+this.uri+"$fast",!0)}})});