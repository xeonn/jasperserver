define("scheduler/view/app",["require","commons.main","utils.common","jquery","backbone","!domReady","jrs.configs","scheduler/view/jobs","scheduler/view/editor","scheduler/router/app","scheduler/util/jobUtil"],function(e){e("commons.main"),e("utils.common");var o=e("jquery"),n=e("backbone"),t=e("!domReady"),i=e("jrs.configs"),r=e("scheduler/view/jobs"),s=e("scheduler/view/editor"),a=e("scheduler/router/app"),l=e("scheduler/util/jobUtil");return t(function(){_.extend(ControlsBase,i.inputControlsConstants)}),n.View.extend({REST_V2_BASE:"/jobs",el:"#display",_runNowClick:!1,handleTwoButtonDialogIsOpen:!1,initialize:function(){if(this.list=new r({app:this}),this.editor=new s({app:this}),-1!==document.location.hash.indexOf("@@parentReportURI=")){var e=document.location.hash.match(/@@parentReportURI=([^@]*)@@/);this.list.parentReportURI=e[1],this.editor.parentReportURI=e[1]}this.router=new a(this),n.history.start(),o.ajaxSetup({headers:{"X-Suppress-Basic":!0}}),o(document).on("ajaxError",function(e,o,n,t){(401===o.status||"Unauthorized"===t)&&location.reload()}),o(document).on("click","a[href=#]",function(e){e.preventDefault()}),-1===document.referrer.indexOf("login.html")&&(new JSCookie(l.SCHEDULER_BACK_COOKIE_NAME,encodeURIComponent(document.referrer)),new JSCookie(l.SCHEDULER_LIST_BACK_COOKIE_NAME,encodeURIComponent(location.href)))},page:function(e){this.current=e,e.$el.removeClass("hidden").siblings().addClass("hidden")},handleTwoButtonDialog:function(e,n,t){if(this.handleTwoButtonDialogIsOpen!==!0){var i=o("#standardConfirm"),r=this;i.find(".body").html(e),dialogs.popupConfirm.show(i.get(0),!1,{okButtonSelector:"#runReportOK",cancelButtonSelector:"#runReportCancel"}),this.handleTwoButtonDialogIsOpen=!0,i.find("#runReportOK").on("click",function(){r.handleTwoButtonDialogIsOpen=!1,n()}),i.find("#runReportCancel").on("click",function(){r.handleTwoButtonDialogIsOpen=!1,t&&t()})}}})});