define("scheduler/collection/jobs",["require","underscore","backbone","jrs.configs","scheduler/model/job"],function(e){var r=e("underscore"),o=e("backbone"),n=e("jrs.configs"),t=e("scheduler/model/job");return o.Collection.extend({url:n.contextPath+"/rest_v2/jobs",model:t,parse:function(e){return e?e.jobsummary:[]},fetch:function(e){var o=this,t=0,s=[],c=[e],i=n.contextPath+"/rest_v2/reports"+e+"/options";n.isProVersion?o.request({url:i},function(e,n){if(!e&&(n=n.reportOptionsSummary))for(var i=0,u=n.length;u>i;i++)n[i].uri&&c.push(n[i].uri);r.each(c,function(e){o.request({url:o.url+"?reportUnitURI="+e},function(e,r){return t++,e?o.trigger("error",e):(s=s.concat(o.parse(r)),void(t===c.length&&o.reset(s)))})})}):o.request({url:o.url+"?reportUnitURI="+e},function(e,r){return e?o.trigger("error",e):void o.reset(o.parse(r))})},request:function(e,r){return e||(e={}),e.success=function(e){r(void 0,e)},e.error=function(e){r(e)},o.sync.call(this,"read",new o.Model,e)},permission:function(e,r){return o.sync.call(this,"read",new o.Model,{url:n.contextPath+"/rest_v2/resources/"+e.replace(/\/[^\/]+$/,""),headers:{Accept:"application/repository.folder+json"},type:"GET",success:function(e){"function"==typeof r&&r(void 0,e.permissionMask)},error:function(e){"function"==typeof r&&r(e)}})}})});