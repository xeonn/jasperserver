JRS.Export.StateController=function(e,t,n,r){return n.View.extend(r.StateControllerTrait).extend({initialize:function(){r.StateControllerTrait.initialize.apply(this,arguments),this.downloader=new r.AjaxDownloader},handleReadyPhase:function(e){var t=this.getFileUrl(e);this.downloader.start(t),this.reset()},getFileUrl:function(e){var t=encodeURIComponent(e.name.replace(/\.zip\s*$/,""));return"rest_v2/export/{fileId}/{filename}.zip".replace("{fileId}",e.get("id")).replace("{filename}",t)}})}(jQuery,_,Backbone,jaspersoft.components);